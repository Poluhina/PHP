<?php
/**
 * Скрипт для создания таблицы movies в базе данных.
 * Если таблица уже существует, она не будет создана заново.
 * В таблице хранятся данные о фильмах: id, название и описание.
 *
 *
 * @category DatabaseInteraction
 * @package  MovieCatalogApp
 * @author   
 */

// Подключение к базе данных
$mysqli = new mysqli("localhost", "root", "", "movie_catalog");

/**
 * Проверка на успешное подключение к базе данных.
 * Если подключение не удалось, скрипт завершится с ошибкой.
 */
if ($mysqli->connect_error) {
    die("Ошибка подключения: " . $mysqli->connect_error);
}

// SQL-запрос для создания таблицы "movies", если она не существует
$sql = "CREATE TABLE IF NOT EXISTS movies (
    id INT AUTO_INCREMENT PRIMARY KEY,  // Поле для уникального идентификатора фильма
    title VARCHAR(255) NOT NULL,       // Название фильма (не может быть пустым)
    description TEXT NOT NULL          // Описание фильма (не может быть пустым)
)";

/**
 * Выполнение SQL-запроса на создание таблицы.
 * Если запрос выполнен успешно, выводится сообщение о создании таблицы.
 * Если произошла ошибка, выводится сообщение об ошибке.
 */
if ($mysqli->query($sql) === TRUE) {
    echo "Таблица 'movies' успешно создана!";
} else {
    echo "Ошибка: " . $mysqli->error;
}

// Закрытие соединения с базой данных
$mysqli->close();
?>
